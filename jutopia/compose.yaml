services:
  discovery-server:
    image: discovery-server:1.0
    ports:
    - "8761"
  apigateway-server:
    image: apigateway-server:1.0
    ports:
    - "8081"
  config-server:
    image: config-server:1.0
    ports:
    - "8082"
  news-server:
    image: news-server:1.0
    build:
      context: ./news-server
      dockerfile: Dockerfile
    ports:
      - "9091:9091"
    volumes:
      - ./news-server/src:/app/src
    command: ["uvicorn", "main:app", "--host=0.0.0.0", "--port=9091"]
  # jenkins/jenkins:
  #   image: jenkins/jenkins:lts-jdk17